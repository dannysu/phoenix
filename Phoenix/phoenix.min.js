(i=>{var o={};i.on=function(e,n){e=new Event(e,n);if(e)return(o[e.hash()]=e).hash()},i.off=function(e){var n=o[e];n&&(n.disable(),delete o[e])},i.once=function(e,n){var o=i.on(e,function(){!1!==n.apply(null,arguments)&&i.off(o)})}})(Event),(t=>{var i={};t.on=function(e,n,o){e=new Key(e,n,o);if(e)return(i[e.hash()]=e).hash()},t.off=function(e){var n=i[e];n&&(n.disable(),delete i[e])},t.once=function(e,n,o){var i=t.on(e,n,function(){!1!==o.apply(null,arguments)&&t.off(i)})}})(Key),Modal.prototype.setTextColour=Modal.prototype.setTextColor,Modal.build=function(e){var o=new Modal;return _(e).omit("origin").each(function(e,n){o[n]=e}),_(e.origin).isFunction()&&(o.origin=e.origin(o.frame()),o.didResize=function(){o.origin=e.origin(o.frame())}),o};var consoleLogFn=console.log,logFn=Phoenix.log;function prettifyError(e){var n="";return e.stack&&(n=e.stack.trim().split("\n").map(function(e){return"\tat "+e}).join("\n")),e.name+": "+e.message+"\n"+n}Phoenix.log=function(){1===arguments.length&&arguments[0]instanceof Error?logFn.call(Phoenix,prettifyError(arguments[0])):logFn.apply(Phoenix,arguments)},console.log=function(){consoleLogFn.apply(console,arguments),Phoenix.log.apply(Phoenix,arguments)},Screen.prototype.frameInRectangle=function(){return Phoenix.log("Deprecated: Function Screen#frameInRectangle() is deprecated and will be removed in later versions, use Screen#flippedFrame() instead."),this.flippedFrame()},Screen.prototype.visibleFrameInRectangle=function(){return Phoenix.log("Deprecated: Function Screen#visibleFrameInRectangle() is deprecated and will be removed in later versions, use Screen#flippedVisibleFrame() instead."),this.flippedVisibleFrame()},Space.prototype.screen=function(){return Phoenix.log("Deprecated: Function Space#screen() is deprecated and will be removed in later versions, use Space#screens() instead."),_.first(this.screens())},(e=>{var i={};e.run=function(e,n,o){e=new Task(e,n,function(e){o&&o(e),Task.terminate(e.hash())});return(i[e.hash()]=e).hash()},e.terminate=function(e){var n=i[e];n&&(n.terminate(),delete i[e])}})(Task),(e=>{var o={};e.after=function(e,n){e=new Timer(e,!1,function(e){n(e),Timer.off(e.hash())});return(o[e.hash()]=e).hash()},e.every=function(e,n){e=new Timer(e,!0,n);return(o[e.hash()]=e).hash()},e.off=function(e){var n=o[e];n&&(n.stop(),delete o[e])}})(Timer),this.clearTimeout=Timer.off,this.clearInterval=Timer.off,this.setTimeout=function(e,n){return Timer.after(n/1e3,e)},this.setInterval=function(e,n){return Timer.every(n/1e3,e)},Window.prototype.isMinimised=Window.prototype.isMinimized,Window.prototype.maximise=Window.prototype.maximize,Window.prototype.minimise=Window.prototype.minimize,Window.prototype.unminimise=Window.prototype.unminimize,Window.prototype.neighbours=Window.prototype.neighbors,Window.prototype.focusClosestNeighbour=Window.prototype.focusClosestNeighbor;